<!DOCTYPE html>
<html lang="en" ng-app="MinhaApp">
<head>
    <title>Tabela</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--<link rel="shortcut icon" type="image/ico" href="/images/indice.png">-->

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://almsaeedstudio.com/themes/AdminLTE/dist/css/AdminLTE.min.css">


    <link rel="stylesheet" href="https://adminlte.io/themes/AdminLTE/dist/css/skins/_all-skins.min.css">
    <!-- Google Font -->
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">

</head>
<!--<body class="hold-transition skin-blue sidebar-mini">-->

<body>
<div class="wrapper" ng-controller="myController">
    <div class="box box-primary">
        <div class="box-header">
            <h3 class="box-title">Tabela de Logs</h3>


        </div>
        <!-- /.box-header -->
        <div class="box-body">
            <div class="alert alert-info">
                <p>Sort Type: {{ sortType }}</p>
                <p>Sort Reverse: {{ sortReverse }}</p>
                <p>Search Query: {{ searchFish }}</p>
            </div>

            <div class="box-body">
                <div >
                   <button ng-click="buscar()" class="btn btn-info pull-right">Buscar</button>
                    <button ng-click="aplicar()" class="btn btn-info pull-right">Aplicar</button>
                    <button ng-click="modalEntidade('lg')" class="btn btn-info pull-right">Definir Entidade</button>
                    <button ng-click="modalIntencao('lg')" class="btn btn-info pull-right">Definir Intenção</button>
                </div>
            </div>
            <div class="alert alert-danger" role="alert" ng-if="errorMessage">{{errorMessage}}</div>

            <form>
                <div class="form-group">
                    <div class="input-group">
                        <div class="input-group-addon"><i class="fa fa-search"></i></div>
                        <input type="text" class="form-control" placeholder="Search logs" ng-model="searchFish" style="width: 50%;">
                    </div>
                </div>
            </form>
            <div class="box-body">
            <table class="table table-bordered table-striped">
                <thead>
                <tr>
                    <td><a href="#" >##</a>
                    </td>
                    <td>
                        <a href="#" ng-click="sort_by('conversation_id')">
                            Conversation ID
                            <span ng-show="showDown('conversation_id')" class="fa fa-caret-down"></span>
                            <span ng-show="showUp('conversation_id')" class="fa fa-caret-up"></span>
                        </a>
                    </td>
                    <td>
                        <a href="#" ng-click="sort_by('msgUser')">
                            MSG
                            <span ng-show="showDown('msgUser')" class="fa fa-caret-down"></span>
                            <span ng-show="showUp('msgUser')" class="fa fa-caret-up"></span>
                        </a>
                    </td>
                    <td>
                        <a href="#" ng-click="sort_by('confidenceIntencao')">
                            Confidence Int
                            <span ng-show="showDown('confidenceIntencao')" class="fa fa-caret-down"></span>
                            <span ng-show="showUp('confidenceIntencao')" class="fa fa-caret-up"></span>
                        </a>
                    </td>
                    <td>
                        <a href="#" ng-click="sort_by('intencao')">
                            Intenção
                            <span ng-show="showDown('intencao')" class="fa fa-caret-down"></span>
                            <span ng-show="showUp('intencao')" class="fa fa-caret-up"></span>
                        </a>
                    </td>
                    <td>
                        <a href="#" ng-click="sort_by('confidenceEntidade')">
                            Confidence Ent
                            <span ng-show="showDown('confidenceEntidade')" class="fa fa-caret-down"></span>
                            <span ng-show="showUp('confidenceEntidade')" class="fa fa-caret-up"></span>
                        </a>
                    </td>
                    <td>
                        <a href="#" ng-click="sort_by('entidade')">
                            Entidade
                            <span ng-show="showDown('entidade')" class="fa fa-caret-down"></span>
                            <span ng-show="showUp('entidade')" class="fa fa-caret-up"></span>
                        </a>
                    </td>
                    <td>
                        <a href="#" ng-click="sort_by('data')">
                            Data
                            <span ng-show="showDown('data')" class="fa fa-caret-down"></span>
                            <span ng-show="showUp('data')" class="fa fa-caret-up"></span>
                        </a>
                    </td>
                </tr>
                </thead>

                <tbody>
                <tr ng-repeat="item in (filteredItems = (items | orderBy:sortType:sortReverse | filter:searchFish ))"  >
                    <td>
                        <input type="checkbox" name="selectedItem[]"  value="{{item.id}}" ng-checked="selection.indexOf(item.id) > -1" ng-click="toggleSelection(item.id)">
                    </td>
                    <td>{{item.conversation_id}}</td>
                    <td>{{item.msgUser}}</td>
                    <td>{{item.confidenceIntencao}}</td>
                    <td>{{item.intencao}}</td>
                    <td>{{item.confidenceEntidade}}</td>
                    <td>{{item.entidade}}</td>
                    <td>{{item.data}}</td>
                    <!--<td>{{item.id}}</td>-->
                </tr>
                </tbody>
            </table>
            </div>
        </div>
        <!-- /.box-body -->
  </div>
</div>
 <div ng-controller="ModalInstanceCtrl">
    <script type="text/ng-template" id="myModalEntidade.html">
        <div class="modal-header">
            <h3 class="modal-title" id="modal-title">Selecione a entidade</h3>
        </div>
        <div class="modal-body" id="modal-body">

            <div class="form-group">
                <label> Entidade </label>
                <select ng-model="selectedCar" class="form-control">
                    <option ng-repeat="x in $ctrl.cars" value="{{x.model}}">{{x.model}}</option>
                </select>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" type="button" ng-click="$ctrl.ok()">OK</button>
            <button class="btn btn-warning" type="button" ng-click="$ctrl.cancel()">Cancel</button>
        </div>
    </script>
     <script type="text/ng-template" id="myModalIntencao.html">
         <div class="modal-header">
             <h3 class="modal-title" id="modal-title1">Selecione a intenção</h3>
         </div>
         <div class="modal-body" id="modal-body1">
             <div class="form-group">
                 <label>Intenção</label>
                 <select ng-model="selectedCar" class="form-control">
                     <option ng-repeat="x in $ctrl.cars" value="{{x.model}}">{{x.model}}</option>
                 </select>
             </div>
         </div>
         <div class="modal-footer">
             <button class="btn btn-primary" type="button" ng-click="$ctrl.ok()">OK</button>
             <button class="btn btn-warning" type="button" ng-click="$ctrl.cancel()">Cancel</button>
         </div>
     </script>

 </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!--<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.25/angular.min.js"></script>-->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.2/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.2/angular-animate.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.2/angular-sanitize.js"></script>
    <script src="https://angular-ui.github.io/bootstrap/ui-bootstrap-tpls-2.5.0.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.4.2/angular-ui-router.min.js"></script>

    <script type="text/javascript" src="/scripts/controller-log-conversation.js"></script>

    <script type="text/javascript">
        var isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent) ? true : false;
        jQuery(document).ready(function($){
            if(!isMobile) {
              $( "<style>.custom-dialog .modal-dialog { width :20%; min-width: 600px;}</style>" ).appendTo( "head" );
            }
        });
   </script>

</body>
</html>